{"version":3,"sources":["webpack:///./src/pages/tagManage/index.vue?9848","webpack:///./src/pages/tagManage/index.vue?9764","webpack:///./src/pages/tagManage/index.vue","webpack:///./src/pages/tagManage/index.vue?5daa","webpack:///./src/pages/tagManage/index.vue?5915"],"names":["___CSS_LOADER_API_IMPORT___","exports","push","module","i","loading","ref","sortOptions","props","children","label","value","getSortOptions","getAllQuestionType","then","res","finally","getTableData","formInline","reactive","id","totalData","pageable","page","limit","tableData","rules","labelName","required","message","trigger","typeId","formOptions","prop","type","options","columns","width","align","fixed","render","row","_createVNode2","_resolveComponent2","onClick","openDialog","default","_createTextVNode2","deleteTag","getLabelsByTypeId","refresh","search","length","msg","warning","labelId","ElMessageBox","confirm","confirmButtonText","cancelButtonText","params","deleteLabel","catch","ElMessage","onMounted","detailData","show","data","onSizeChange","val","pageSize","onCurrentChange","pageNum","__exports__","content","__esModule","locals","add"],"mappings":"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","file":"js/chunk-5d755fdd.8b63ed52.js","sourcesContent":["export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=0196bcd7&scoped=true&lang=scss\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".el-menu .el-menu-item[data-v-0196bcd7],.el-menu .el-sub-menu__title[data-v-0196bcd7]{color:#666;font-size:.08333rem;position:relative}.el-menu .el-menu-item svg[data-v-0196bcd7],.el-menu .el-sub-menu__title svg[data-v-0196bcd7]{font-size:.13542rem;margin:-.01042rem .05208rem 0 0}.el-menu .el-menu-item .xian[data-v-0196bcd7],.el-menu .el-sub-menu__title .xian[data-v-0196bcd7]{position:absolute;left:.18229rem;top:0;bottom:0;border-left:.01042rem solid #edeff2}.el-menu .el-menu-item.is-active[data-v-0196bcd7],.el-menu .el-menu-item[data-v-0196bcd7]:hover,.el-menu .el-sub-menu__title.is-active[data-v-0196bcd7],.el-menu .el-sub-menu__title[data-v-0196bcd7]:hover{background-color:rgba(0,0,0,.1);color:var(--color1,#0c969a)}.el-menu .el-menu-item.is-active .xian[data-v-0196bcd7],.el-menu .el-menu-item:hover .xian[data-v-0196bcd7],.el-menu .el-sub-menu__title.is-active .xian[data-v-0196bcd7],.el-menu .el-sub-menu__title:hover .xian[data-v-0196bcd7]{border-left:.01042rem solid var(--color1,#0c969a)}.el-menu--collapse .el-menu-item svg[data-v-0196bcd7],.el-menu--collapse .el-sub-menu__title svg[data-v-0196bcd7]{margin:0}.el-menu--vertical .el-menu[data-v-0196bcd7]{background-color:#fff}.el-menu--vertical .el-menu .el-menu-item[data-v-0196bcd7]:hover{background-color:rgba(0,0,0,.1)}.content[data-v-0196bcd7]{height:100%;background:#fff;padding:.10417rem .05208rem}.content .search[data-v-0196bcd7]{height:.41667rem;display:flex;justify-content:space-between}.content .table_box[data-v-0196bcd7]{height:calc(100% - .41667rem)}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","<template>\r\n  <div class=\"content\" v-loading=\"loading\">\r\n    <div class=\"search\">\r\n      <el-form :inline=\"true\" :model=\"formInline\" class=\"demo-form-inline\">\r\n        <el-form-item label=\"所属分类\">\r\n          <el-cascader\r\n              v-model=\"formInline.id\"\r\n              :options=\"sortOptions\"\r\n              :props=\"props\"\r\n          />\r\n        </el-form-item>\r\n      </el-form>\r\n      <div class=\"btns\">\r\n        <el-button type=\"primary\" :icon=\"Search\" @click.stop=\"search\">查询</el-button>\r\n        <el-button :icon=\"Refresh\" @click.stop=\"refresh\">重置</el-button>\r\n        <el-button type=\"primary\" :icon=\"Plus\" @click.stop=\"openDialog(1)\">新增</el-button>\r\n      </div>\r\n    </div>\r\n    <div class=\"table_box\">\r\n      <CommonTable :tableData=\"tableData\"\r\n                   :columns=\"columns\"\r\n                   :totalData=\"totalData\"\r\n                   :pageable=\"pageable\"\r\n                   @onSizeChange=\"onSizeChange\"\r\n                   @onCurrentChange=\"onCurrentChange\" />\r\n    </div>\r\n    <template v-if=\"detailData.show\">\r\n      <CommonDialogForm\r\n          v-model=\"detailData.show\"\r\n          title=\"标签管理\"\r\n          :rules='rules'\r\n          :dialogType=\"detailData.type\"\r\n          :form-option=\"formOptions()\"\r\n          :form-data=\"detailData.data\"\r\n          :update-request-url=\"updateLabel\"\r\n          :add-request-url=\"addLabel\"\r\n          @refresh-data=\"getTableData\"\r\n      />\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"jsx\">\r\nimport CommonTable from \"@/components/commonTable\";\r\nimport {onMounted, reactive, ref} from \"vue\";\r\nimport { ElMessage,ElMessageBox } from 'element-plus'\r\nimport { Search, Refresh, Plus } from '@element-plus/icons-vue'\r\nimport CommonDialogForm from \"@/components/CommonDialogForm\"\r\nimport {getAllQuestionType, getLabelsByTypeId, updateLabel, addLabel, deleteLabel} from \"@/api/tagManageApi\";\r\nimport msg from \"@/utils/resetMessage\";\r\nconst loading = ref(false)\r\n\r\nconst sortOptions = ref([])\r\nconst props = { children:'questionTypes',label:'typeName',value:'id' }\r\nfunction getSortOptions(){\r\n  getAllQuestionType()\r\n      .then(res=>{  \r\n        sortOptions.value =  res\r\n      })\r\n      .finally(()=>getTableData())\r\n}\r\n\r\nconst formInline = reactive({\r\n  id:[1,2],\r\n})\r\n\r\nconst totalData = ref(0)\r\nconst pageable = reactive({\r\n  page: 1, limit: 15\r\n})\r\nconst tableData = ref([])\r\nconst rules = {\r\n  labelName:[{required: true, message: '请输入标签名称', trigger: 'blur'}],\r\n  typeId:[{required: true, message: '请选择所属分类', trigger: 'blur'}],\r\n}\r\nconst formOptions = ()=>[\r\n  {label:'标签名称',prop:'labelName',type:'input'},\r\n  {label: '所属分类', prop: 'typeId',type:'cascader',options:sortOptions.value,props:{ children:'questionTypes',label:'typeName',value:'id' }},\r\n  // {label:'创建时间',prop:'createTime',type:'date'},\r\n]\r\nconst columns = ref([\r\n  {label:'序号',type:'index',width:80,align:'center'},\r\n  {label:'标签名称', prop:'labelName'},\r\n  {label:'创建时间', prop:'createTime'},\r\n  {label:'创建人', prop:'createPerson'},\r\n  {\r\n    label: \"操作\", width: 120, fixed: 'right', render: ({row}) => {\r\n      return (\r\n          <div>\r\n            <el-button type=\"primary\" link onClick={()=>openDialog(0,row)}>\r\n              编辑\r\n            </el-button>\r\n            <el-button type=\"danger\" link onClick={()=>deleteTag(row.id)}>\r\n              删除\r\n            </el-button>\r\n          </div>\r\n      )\r\n    }\r\n  },\r\n])\r\n\r\nonMounted(()=>{\r\n  getSortOptions()\r\n})\r\n\r\nfunction getTableData(id = 2){\r\n  loading.value = true\r\n  getLabelsByTypeId(id)\r\n      .then(res=>{\r\n        tableData.value = res\r\n      })\r\n      .finally(()=>loading.value = false)\r\n}\r\nfunction refresh(){\r\n  formInline.id = [1,2]\r\n  pageable.page = 1\r\n}\r\nfunction search(){\r\n  let {id} = formInline\r\n  if(!id.length){\r\n    msg.warning('请选择分类')\r\n  }else{\r\n    pageable.page = 1\r\n    getTableData(id[id.length - 1])\r\n  }\r\n}\r\nfunction deleteTag(labelId){\r\n  ElMessageBox.confirm('确定删除吗？',{confirmButtonText:'确定',cancelButtonText:'取消'}).then(()=>{\r\n  let params = {labelId}\r\n  deleteLabel(params)\r\n    .then(res=>{\r\n      getTableData()\r\n    })\r\n  }).catch(()=>{\r\n    ElMessage({type:'info',message:'已取消'})\r\n  })\r\n}\r\n\r\nconst detailData = reactive({\r\n  show:false,\r\n  type:0,\r\n  data:{}\r\n})\r\nfunction openDialog(type=0,data){\r\n  detailData.show = true\r\n  detailData.type = type\r\n  detailData.data = data\r\n}\r\n\r\nfunction onSizeChange(val) {\r\n  pageable.pageSize = val\r\n  getTableData()\r\n}\r\n\r\nfunction onCurrentChange(val) {\r\n  pageable.pageNum = val\r\n  getTableData()\r\n}\r\n\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.content {\r\n  height: 100%;\r\n  background: #ffffff;\r\n  padding: 20px 10px;\r\n  .search{\r\n    height: 80px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n  .table_box{\r\n    height: calc(100% - 80px);\r\n  }\r\n}\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=jsx\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=jsx\"\n\nimport \"./index.vue?vue&type=style&index=0&id=0196bcd7&scoped=true&lang=scss\"\n\nimport exportComponent from \"/Users/fang/Downloads/uniapp-考试测试/exammanage/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0196bcd7\"]])\n\nexport default __exports__","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=0196bcd7&scoped=true&lang=scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"124a08df\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"sourceRoot":""}