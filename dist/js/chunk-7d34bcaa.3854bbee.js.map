{"version":3,"sources":["webpack:///./src/api/tagManageApi.js","webpack:///./src/pages/simulateExamManage/setQuestionScore.vue?5c81","webpack:///./src/components/commonTable.vue?ab59","webpack:///./src/pages/questionBankManage/batchUploadFile.vue?7a6a","webpack:///./src/pages/questionBankManage/batchUploadFile.vue","webpack:///./src/pages/questionBankManage/batchUploadFile.vue?c244","webpack:///./src/pages/questionBankManage/index.vue","webpack:///./src/pages/questionBankManage/index.vue?8ee4","webpack:///./src/pages/questionBankManage/index.vue?aba7","webpack:///./src/pages/questionBankManage/batchUploadFile.vue?af26","webpack:///./src/pages/simulateExamManage/selectQuestion.vue?9634","webpack:///./src/pages/simulateExamManage/setQuestionScore.vue?f752","webpack:///./src/pages/questionBankManage/index.vue?c54a","webpack:///./src/pages/questionBankManage/index.vue?7dd4","webpack:///./src/components/commonTable.vue?6532","webpack:///./src/api/cascadeManageApi.js","webpack:///./src/components/CommonDialogForm.vue?ffd0","webpack:///./src/pages/simulateExamManage/selectQuestion.vue?9dd6","webpack:///./src/components/commonTable.vue","webpack:///./src/components/commonTable.vue?c79c","webpack:///./src/components/CommonDialogForm.vue?ed02","webpack:///./src/components/commonTable.vue?5e23","webpack:///./src/pages/simulateExamManage/setQuestionScore.vue?a592","webpack:///./src/utils/utilsTool.js","webpack:///./src/pages/simulateExamManage/selectQuestion.vue?6b4a","webpack:///./src/pages/questionBankManage/batchUploadFile.vue?983f","webpack:///./src/pages/simulateExamManage/selectQuestion.vue","webpack:///./src/pages/simulateExamManage/selectQuestion.vue?d4a9","webpack:///./src/pages/simulateExamManage/setQuestionScore.vue","webpack:///./src/pages/simulateExamManage/setQuestionScore.vue?6bba","webpack:///./src/components/CommonDialogForm.vue","webpack:///./src/components/CommonDialogForm.vue?16cd","webpack:///./src/components/CommonDialogForm.vue?9813","webpack:///./src/api/questionBankApi.js"],"names":["getAllQuestionType","http","get","updateQuestionType","data","post","addQuestionType","deleteQuestionType","getLabelsByTypeId","id","updateLabel","addLabel","deleteLabel","content","__esModule","default","module","i","locals","exports","add","emits","__emit","fileData","ref","uploadData","file","value","msg","success","onSure","warning","fd","FormData","append","uploadDataFile","then","res","onHandleClose","__exports__","_isSlot","s","Object","prototype","toString","call","_isVNode","store","useStore","loading","deinfeEmit","defineProps","__props","batchUpload","reactive","show","openShowBatchUpload","sortOptions","props","children","label","getSortOptions","finally","getCategoriesOptions","getAllTag","categoryOptions","getAgainCategory","length","typeId","params","getAllCategories","allTags","formInline","query","commonTable","totalData","pageable","page","limit","tableData","rules","quContent","required","message","trigger","sort","categoryId","trueOption","allOption","analysis","formOptions","prop","type","options","render","onUpdateData","_data$questionLabels","selectId","userId","getters","questionLabels","map","labelId","onChange","val","createTime","questionId","labelName","find","item","oldId","_createVNode2","_resolveComponent2","columns","width","align","row","_","findFields","toRaw","typeName","fixed","_Fragment","onClick","openDialog","_createTextVNode2","delQuestion","ElMessageBox","confirm","confirmButtonText","cancelButtonText","deleteQuestion","getTableData","catch","ElMessage","pageNo","pageSize","getAllQuestion","total","toggleSelect","refresh","search","onMounted","detailData","onSizeChange","onCurrentChange","pageNum","array","selectArray","forEach","element","push","tableRef","toggleRowSelection","onSelectionChange","___CSS_LOADER_API_IMPORT___","deleteCategory","addCategory","updateCategory","__default__","name","handleSizeChange","handleCurrentChange","doSelectChange","__expose","fields","getSelect","score","$event","cursor","delIds","ids","filter","addQuestionDialog","addNewQuestion","isEmpty","some","error","getChangeSelection","has","formRef","updateData","fidlds","_formInline$allOption","dialogType","assign","formData","creareFields","allOptionsArray","split","optionArrayToMap","state","user","userInfo","uploadAnswer","uploadImages","currentIndex","isHasFields","addressListArray","uploadImage","promiseRequest","uid","batchUploadImage","pushImage","_addressListArray$add","isHas","_formInline$imageList","isHasQuestion","addressList","findIndex","onlyImagesUpload","handleExceed","uploadFile","clearFiles","handleStart","handleRemove","deleteUrl","url","imageList","img","imgName","dialogImageUrl","imgDialog","handlePictureCardPreview","_answerArray$addressL","_questionArray$addres","answerArray","questionArray","window","URL_CONFIG","URL","filterFields","questionList","answerList","allOptionsArrayMap","values","join","parentId","validate","valid","paramsArray","Promise","all","setTimeout","submitApi","addRequestUrl","console","log","updateRequestUrl","_allOptionsArray$valu","obj","key","deleteOneOption","opt","addOption","selectchange","String","setScore","setScoreDialog","idsArray","questionIds","scoreArray","questionScore","index","receiveScore","newIdNameMap","questionNameMap","updateQuestion","headers"],"mappings":"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","file":"js/chunk-7d34bcaa.3854bbee.js","sourcesContent":["/*\r\n * @描述信息: 分类(标签)\r\n * @Author:\r\n */\r\n\r\nimport http from '@/http/http'\r\n\r\n// 获取所有问题分类\r\nexport const getAllQuestionType = () => http.get(`/exam/type/getAllQuestionType`)\r\n\r\n// 更新问题分类\r\nexport const updateQuestionType = (data) => http.post('/exam/type/updateQuestionType',data)\r\n\r\n// 新增标签信息\r\nexport const addQuestionType = (data) => http.post(`/exam//type/addQuestionType`,data)\r\n\r\n// 删除标签信息\r\nexport const deleteQuestionType = (data) => http.get('/exam//type/deleteQuestionType',data)\r\n\r\n\r\n\r\n// 根据id查询标签信息\r\nexport const getLabelsByTypeId = (id) => http.get(`/exam/label/getLabelsByTypeId?typeId=${id}`)\r\n\r\n// 更新标签信息\r\nexport const updateLabel = (data) => http.post(`/exam/label/updateLabel`,data)\r\n\r\n// 新增标签信息\r\nexport const addLabel = (data) => http.post(`/exam/label/addLabel`,data)\r\n\r\n// 删除标签信息\r\nexport const deleteLabel = (data) => http.get('/exam/label/deleteLabel',data)\r\n\r\n","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./setQuestionScore.vue?vue&type=style&index=0&id=5d5c07f4&lang=scss&scoped=true\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./commonTable.vue?vue&type=style&index=0&id=17d4c49e&scoped=true&lang=scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"56f44a35\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./batchUploadFile.vue?vue&type=style&index=0&id=62522fea&lang=scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"7db869f6\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","<template>\r\n  <el-dialog v-bind=\"$attrs\" title=\"批量上传题库\" width=\"40%\">\r\n    <div class=\"upload_content\">\r\n        <el-upload\r\n          drag\r\n          action=\"#\"\r\n          accept=\".xlsx,.xls\"\r\n          :http-request=\"uploadData\"\r\n        >\r\n        <el-icon class=\"upload_icon\"> <UploadFilled/> </el-icon>\r\n        <template #tip>\r\n          <div class=\"upload_tip\">\r\n           注意 : 仅允许上传 .xlsx 和 .xls 后缀的 Excel 文件\r\n          </div>\r\n        </template>\r\n        </el-upload>\r\n    </div>\r\n    <template #footer>\r\n      <span class=\"dialog-footer\">\r\n        <el-button @click.stop=\"onHandleClose\">取消</el-button>\r\n        <el-button type=\"primary\" @click.stop=\"onSure\">确定</el-button>\r\n      </span>\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n<script setup>  \r\nimport {onMounted, reactive, ref} from \"vue\";\r\nimport {UploadFilled} from '@element-plus/icons-vue'\r\nimport { uploadDataFile } from \"@/api/questionBankApi\";\r\nimport msg from \"@/utils/resetMessage\"\r\nconst emits = defineEmits(['refresh']);\r\n\r\nconst fileData = ref()\r\n\r\nfunction uploadData(file){\r\n    if(file.file){\r\n        fileData.value = file.file\r\n        msg.success('导入成功,等待上传')\r\n    }\r\n}\r\n\r\nfunction onSure(){\r\n  if(!fileData.value){\r\n    msg.warning('请导入 Excel 文件')\r\n    return \r\n  }\r\n  const fd = new FormData()\r\n  fd.append('file',fileData.value)\r\n  uploadDataFile(fd)\r\n    .then(res=>{\r\n        msg.success('上传成功')\r\n        onHandleClose()\r\n        emits('refresh')\r\n    })\r\n}\r\nfunction onHandleClose() {\r\n  emits('update:modelValue', false)\r\n}   \r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.upload_icon{\r\n    font-size: 50px;\r\n}\r\n.upload_tip{\r\n  margin-top: 20px;\r\n  color: red;\r\n}\r\n</style>","import script from \"./batchUploadFile.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./batchUploadFile.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./batchUploadFile.vue?vue&type=style&index=0&id=62522fea&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div class=\"content\" v-loading=\"loading\">\r\n    <div class=\"search\">\r\n      <el-form :inline=\"true\" :model=\"formInline\" class=\"demo-form-inline\">\r\n        <el-form-item label=\"题库名称\">\r\n          <el-input v-model=\"formInline.query\" placeholder=\"请输入\" clearable />\r\n        </el-form-item>\r\n        <el-form-item label=\"所属分类\">\r\n          <el-cascader v-model=\"formInline.id\" :options=\"sortOptions\" :props=\"props\" @change=\"getAgainCategory\" />\r\n        </el-form-item>\r\n      </el-form>\r\n      <div class=\"btns\">\r\n        <el-button type=\"primary\" :icon=\"Search\" @click.stop=\"search\">查询</el-button>\r\n        <el-button :icon=\"Refresh\" @click=\"refresh\">重置</el-button>\r\n        <el-button v-if=\"!isSelect\" type=\"primary\" :icon=\"Plus\" @click.stop=\"openDialog(1)\">新增</el-button>\r\n        <el-button  v-if=\"!isSelect\" type=\"warning\" @click.stop=\"openShowBatchUpload\">批量上传</el-button>\r\n      </div>\r\n    </div>\r\n    <div class=\"table_box\">\r\n      <CommonTable ref=\"commonTable\" :tableData=\"tableData\" :columns=\"isSelect?columns.filter(i=>(i.label !== '序号' && i.label !== '操作')):columns.filter(i=>(i.label !== '选择'))\" \r\n        :totalData=\"totalData\" :pageable=\"pageable\" @onSizeChange=\"onSizeChange\" @onCurrentChange=\"onCurrentChange\" @onSelectionChange=\"onSelectionChange\" />\r\n    </div>\r\n    <template v-if=\"detailData.show\">\r\n      <CommonDialogForm\r\n        width=\"60%\"\r\n        marginTop=\"1\"\r\n        v-model=\"detailData.show\"\r\n        title=\"题库管理\"\r\n        :rules=\"rules\"\r\n        :dialogType=\"detailData.type\"\r\n        :form-data=\"detailData.data\"\r\n        :form-option=\"formOptions()\"\r\n        :update-request-url=\"updateQuestion\"\r\n        :add-request-url=\"updateQuestion\"\r\n        @refreshData=\"getTableData\"\r\n      />\r\n    </template>\r\n    <template v-if=\"batchUpload.show\">\r\n      <BatchUpload v-model=\"batchUpload.show\" @refresh=\"getTableData\" />\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"jsx\">\r\nimport CommonTable from \"@/components/commonTable\";\r\nimport CommonDialogForm from \"@/components/CommonDialogForm\"\r\nimport {reactive, ref, onMounted, toRaw} from \"vue\";\r\nimport {ElMessage,ElMessageBox} from 'element-plus'\r\nimport {Search, Refresh, Plus} from '@element-plus/icons-vue'\r\nimport {getAllQuestion, updateQuestion, deleteQuestion} from \"@/api/questionBankApi\"\r\nimport {getAllQuestionType} from \"@/api/tagManageApi\"\r\nimport {getAllCategories} from \"@/api/cascadeManageApi\"\r\nimport {getLabelsByTypeId} from '@/api/tagManageApi'\r\nimport BatchUpload from \"./batchUploadFile\"\r\nimport {findFields} from \"@/utils/utilsTool.js\"\r\nimport { useStore } from 'vuex'\r\nconst store = useStore()\r\nconst loading = ref(false)\r\nconst deinfeEmit = defineEmits(['getSelect'])\r\nconst defineProps = defineProps({\r\n  isSelect:{\r\n    type:Boolean,\r\n    default:false\r\n  },\r\n  selectId:{\r\n    type:Array,\r\n    default:()=>[]\r\n  }\r\n})\r\n\r\nconst batchUpload = reactive({\r\n  show:false\r\n})\r\nfunction openShowBatchUpload(){\r\n  batchUpload.show = true\r\n}\r\n\r\nconst sortOptions = ref([])\r\n\r\nconst props = { children:'questionTypes',label:'typeName',value:'id' }\r\nfunction getSortOptions(){\r\n  getAllQuestionType()\r\n      .then(res=>{\r\n        sortOptions.value =  res\r\n      })\r\n      .finally(()=>{\r\n        getCategoriesOptions()\r\n        getAllTag()\r\n      })\r\n}\r\n\r\nconst categoryOptions = ref([])\r\nfunction getAgainCategory(value){\r\n  getCategoriesOptions(value[value.length - 1])\r\n  getAllTag(value[value.length - 1])\r\n}\r\nfunction getCategoriesOptions(typeId = 2){\r\n  let params = {typeId}\r\n  getAllCategories(params)\r\n    .then(res=>{\r\n      categoryOptions.value = res\r\n    })\r\n}\r\n\r\nconst allTags = ref([])\r\nfunction getAllTag(id = 2){\r\n    getLabelsByTypeId(id)\r\n      .then(res=>{\r\n        allTags.value = res\r\n      })\r\n}\r\n\r\nconst formInline = reactive({\r\n  query: '',\r\n  id: [1,2]\r\n})\r\nconst commonTable = ref(null)\r\nconst totalData = ref(0)\r\nconst pageable = reactive({\r\n  page: 1, limit: 15\r\n})\r\nconst tableData = ref([])\r\nconst rules = {\r\n  quContent: [{required: true, message: '请输入问题内容', trigger: 'blur'}],\r\n  sort: [{required: true, message: '请选择问题类型', trigger: 'blur'}],\r\n  typeId: [{required: true, message: '请选择所属分类', trigger: 'blur'}],\r\n  categoryId: [{required: true, message: '请选择级联类型', trigger: 'blur'}],\r\n  trueOption: [{required: true, message: '请选择正确答案', trigger: 'blur'}],\r\n  allOption: [{required: true, message: '请填写选项', trigger: 'blur'}],\r\n  analysis: [{required: true, message: '请填写题目解析', trigger: 'blur'}],\r\n}\r\nconst formOptions = ()=>[\r\n  {label: '问题内容', prop: 'quContent', type: 'input'},\r\n  {label: '内容图片 (单张)', prop: 'answerList', type:'onlyImagesUpload'},\r\n  {\r\n    label: '问题类型',\r\n    prop: 'sort',\r\n    type: 'select',\r\n    options: [{label: '单选', value: 1}, {label: '多选', value: 2}, {label: '判断', value: 3}, {label: '解答', value: 4}]\r\n  },\r\n  {label: '问题难度', prop: 'level', type: 'input'},\r\n  {label: '所属分类', prop: 'typeId',type:'cascader',options:sortOptions.value,props:{ children:'questionTypes',label:'typeName',value:'id' }},\r\n  {label: '级联类型', prop: 'categoryId', type: 'cascader',options:categoryOptions.value,props:{ children:'categories',label:'categoryName',value:'id' }},\r\n  {label: '所有选项', prop: 'allOption', type: 'allOption'},\r\n  {label: '正确答案', prop: 'trueOption', type: 'trueSelect'},\r\n  {label:'标签分类',prop:'questionLabels',render:({data,onUpdateData})=>{\r\n    const selectId = ref([])\r\n    let userId = store.getters['user/getUserId']\r\n    selectId.value = data.questionLabels?.map(i=>i.labelId)\r\n    const onChange = (val)=>{\r\n      let res = val.map(i=>{\r\n        let params = {\r\n          createTime:null,\r\n          userId:userId,\r\n          questionId:data.id,\r\n          labelId:i,\r\n          labelName:allTags.value.find(item=>item.id === i).labelName\r\n        }\r\n        let oldId = data.questionLabels.find(item=>item.labelId === i)\r\n        if(oldId){\r\n          params.id = oldId.id\r\n        }\r\n        return params\r\n      })\r\n      onUpdateData(res,'questionLabels')\r\n    }\r\n    let allOption = allTags.value.map(i=>{\r\n      return <el-option label={i.labelName} value={i.id}></el-option>\r\n    })\r\n    return (\r\n      <el-select model-value={selectId.value} placeholder=\"请选择\" collapse-tags collapse-tags-tooltip clearable multiple onChange={onChange}>\r\n          {allOption}\r\n      </el-select>\r\n    )\r\n  }},\r\n  {label: '问题图片 (多张)', prop: 'questionList', type:'imagesUpload'},\r\n  {label: '题目解析', prop: 'analysis', type: 'textarea'}\r\n]\r\nconst columns = ref([\r\n  {label: '序号', type: 'index', width: 80, align: 'center'},\r\n  {label: '选择', type: 'selection', width: 80, align: 'center'},\r\n  {label: '问题内容', prop: 'quContent'},\r\n  {label: '问题类型', prop: 'sort',render:({row})=>{\r\n    return <el-tag>{[_,'单选','多选','判断','解答'][row.sort]}</el-tag>\r\n  }},\r\n  {label: '问题难度', prop: 'level'},\r\n  {label: '所属分类', prop: 'typeId',render:({row})=>{\r\n    let res = findFields(toRaw(sortOptions.value),'id',row.typeId,'questionTypes')\r\n    return res && res.typeName\r\n  }},\r\n  // {label: '所有选项', prop: 'allOption',render:({row})=>{\r\n  //   if(row.allOption){\r\n  //     return (\r\n  //       <>\r\n  //         { row.allOption.split('#').map((item,index)=><el-tag type=\"warning\" key={index}>{item}</el-tag>) || null }\r\n  //       </>\r\n  //     )\r\n  //   }\r\n  // }},\r\n  // {label: '正确答案', prop: 'trueOption',render:({row})=>{\r\n  //   if(row.allOption){\r\n  //     let optionsArr = row.allOption.split('#')\r\n  //     return <el-tag type=\"success\">{optionsArr[row.trueOption]}</el-tag>\r\n  //   }\r\n  // }},\r\n  {label: '题目解析', prop: 'analysis'},\r\n  // {\r\n  //   label: '相关图片', prop: 'imageUrl', render: ({row}) => {\r\n  //     return (\r\n  //         <el-image\r\n  //             style={{height: '80%', width: '80%'}}\r\n  //             src=\"https://fuss10.elemecdn.com/a/3f/3302e58f9a181d2509f3dc0fa68b0jpeg.jpeg\"\r\n  //             preview-src-list={['https://fuss10.elemecdn.com/a/3f/3302e58f9a181d2509f3dc0fa68b0jpeg.jpeg']}\r\n  //             preview-teleported\r\n  //         />\r\n  //     )\r\n  //   }\r\n  // },\r\n  {\r\n    label: \"操作\", width: 120, fixed: 'right', render: ({row}) => {\r\n      return (\r\n          <>\r\n            <el-button type=\"primary\" link onClick={()=>{openDialog(0,row)}}>\r\n              编辑\r\n            </el-button>\r\n            <el-button type=\"danger\" link onClick={()=>delQuestion(row.id)}>\r\n              删除\r\n            </el-button>\r\n          </>\r\n      )\r\n    }\r\n  },\r\n])\r\n\r\nonMounted(()=>{\r\n  getSortOptions()\r\n  getTableData()\r\n})\r\n\r\nfunction delQuestion(questionId){\r\n  ElMessageBox.confirm('确定删除吗？',{confirmButtonText:'确定',cancelButtonText:'取消'}).then(()=>{\r\n  let params = {questionId}\r\n  deleteQuestion(params)\r\n    .then(res=>getTableData())\r\n  }).catch(()=>{\r\n    ElMessage({type:'info',message:'已取消'})\r\n  })\r\n  \r\n}\r\n\r\nfunction getTableData() {\r\n  loading.value = true\r\n    let params = {\r\n    query:formInline.query,\r\n    typeId:formInline.id[formInline.id.length - 1],\r\n    pageNo:pageable.page,\r\n    pageSize:pageable.limit\r\n  }\r\n  getAllQuestion(params)\r\n    .then(res=>{\r\n      tableData.value = res.data\r\n      totalData.value = res.total\r\n    })\r\n    .finally(()=>{\r\n      loading.value = false\r\n      defineProps.selectId.length && toggleSelect(defineProps.selectId)\r\n    })\r\n}\r\n\r\nfunction refresh(){\r\n  formInline.query = ''\r\n  formInline.id = [1,2]\r\n  pageable.page = 1\r\n  getTableData()\r\n}\r\n\r\nfunction search() {\r\n  pageable.page = 1\r\n  getTableData()\r\n}\r\n\r\nconst detailData = reactive({\r\n  show: false,\r\n  type:0,\r\n  data: {}\r\n})\r\n\r\nfunction openDialog(type = 0,data) {\r\n  detailData.show = true\r\n  detailData.type = type\r\n  detailData.data = data\r\n}\r\n\r\nfunction onSizeChange(val) {\r\n  pageable.pageSize = val\r\n  getTableData()\r\n}\r\n\r\nfunction onCurrentChange(val) {\r\n  pageable.pageNum = val\r\n  getTableData()\r\n}\r\n\r\nfunction toggleSelect(array=[]){\r\n  let selectArray = []\r\n  array.forEach(element => {\r\n    let res = tableData.value.find(i=>i.id == element);\r\n    res && selectArray.push(res)\r\n  });\r\n  if(selectArray.length){\r\n    selectArray.forEach(i=>{\r\n    commonTable.value.tableRef.toggleRowSelection(i)\r\n    })\r\n  }\r\n\r\n}\r\n\r\nfunction onSelectionChange(val){\r\n  deinfeEmit('getSelect',val)\r\n}\r\n\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.content {\r\n  height: 100%;\r\n  background: #ffffff;\r\n  padding: 20px 10px;\r\n\r\n  .search {\r\n    height: 80px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  .table_box {\r\n    height: calc(100% - 80px);\r\n  }\r\n}\r\n:deep(.el-upload-list--picture-card .el-upload-list__item-actions span + span) {\r\n  margin-left: 0.5rem !important;\r\n}\r\n\r\n:deep(.el-tag) {\r\n  margin: 5px 2px;\r\n}\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=jsx\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=jsx\"\n\nimport \"./index.vue?vue&type=style&index=0&id=e6ccaccc&scoped=true&lang=scss\"\n\nimport exportComponent from \"/Users/fang/Downloads/uniapp-考试测试/exammanage/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e6ccaccc\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=e6ccaccc&scoped=true&lang=scss\"","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./batchUploadFile.vue?vue&type=style&index=0&id=62522fea&lang=scss\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./selectQuestion.vue?vue&type=style&index=0&id=61912e71&scoped=true&lang=scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"60260566\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".el-menu .el-menu-item[data-v-5d5c07f4],.el-menu .el-sub-menu__title[data-v-5d5c07f4]{color:#666;font-size:.08333rem;position:relative}.el-menu .el-menu-item svg[data-v-5d5c07f4],.el-menu .el-sub-menu__title svg[data-v-5d5c07f4]{font-size:.13542rem;margin:-.01042rem .05208rem 0 0}.el-menu .el-menu-item .xian[data-v-5d5c07f4],.el-menu .el-sub-menu__title .xian[data-v-5d5c07f4]{position:absolute;left:.18229rem;top:0;bottom:0;border-left:.01042rem solid #edeff2}.el-menu .el-menu-item.is-active[data-v-5d5c07f4],.el-menu .el-menu-item[data-v-5d5c07f4]:hover,.el-menu .el-sub-menu__title.is-active[data-v-5d5c07f4],.el-menu .el-sub-menu__title[data-v-5d5c07f4]:hover{background-color:rgba(0,0,0,.1);color:var(--color1,#0c969a)}.el-menu .el-menu-item.is-active .xian[data-v-5d5c07f4],.el-menu .el-menu-item:hover .xian[data-v-5d5c07f4],.el-menu .el-sub-menu__title.is-active .xian[data-v-5d5c07f4],.el-menu .el-sub-menu__title:hover .xian[data-v-5d5c07f4]{border-left:.01042rem solid var(--color1,#0c969a)}.el-menu--collapse .el-menu-item svg[data-v-5d5c07f4],.el-menu--collapse .el-sub-menu__title svg[data-v-5d5c07f4]{margin:0}.el-menu--vertical .el-menu[data-v-5d5c07f4]{background-color:#fff}.el-menu--vertical .el-menu .el-menu-item[data-v-5d5c07f4]:hover{background-color:rgba(0,0,0,.1)}.content[data-v-5d5c07f4]{height:100%}.content .addQuestion[data-v-5d5c07f4]{display:flex;justify-content:flex-end;height:.26042rem}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".el-menu .el-menu-item[data-v-e6ccaccc],.el-menu .el-sub-menu__title[data-v-e6ccaccc]{color:#666;font-size:.08333rem;position:relative}.el-menu .el-menu-item svg[data-v-e6ccaccc],.el-menu .el-sub-menu__title svg[data-v-e6ccaccc]{font-size:.13542rem;margin:-.01042rem .05208rem 0 0}.el-menu .el-menu-item .xian[data-v-e6ccaccc],.el-menu .el-sub-menu__title .xian[data-v-e6ccaccc]{position:absolute;left:.18229rem;top:0;bottom:0;border-left:.01042rem solid #edeff2}.el-menu .el-menu-item.is-active[data-v-e6ccaccc],.el-menu .el-menu-item[data-v-e6ccaccc]:hover,.el-menu .el-sub-menu__title.is-active[data-v-e6ccaccc],.el-menu .el-sub-menu__title[data-v-e6ccaccc]:hover{background-color:rgba(0,0,0,.1);color:var(--color1,#0c969a)}.el-menu .el-menu-item.is-active .xian[data-v-e6ccaccc],.el-menu .el-menu-item:hover .xian[data-v-e6ccaccc],.el-menu .el-sub-menu__title.is-active .xian[data-v-e6ccaccc],.el-menu .el-sub-menu__title:hover .xian[data-v-e6ccaccc]{border-left:.01042rem solid var(--color1,#0c969a)}.el-menu--collapse .el-menu-item svg[data-v-e6ccaccc],.el-menu--collapse .el-sub-menu__title svg[data-v-e6ccaccc]{margin:0}.el-menu--vertical .el-menu[data-v-e6ccaccc]{background-color:#fff}.el-menu--vertical .el-menu .el-menu-item[data-v-e6ccaccc]:hover{background-color:rgba(0,0,0,.1)}.content[data-v-e6ccaccc]{height:100%;background:#fff;padding:.10417rem .05208rem}.content .search[data-v-e6ccaccc]{height:.41667rem;display:flex;justify-content:space-between}.content .table_box[data-v-e6ccaccc]{height:calc(100% - .41667rem)}[data-v-e6ccaccc] .el-upload-list--picture-card .el-upload-list__item-actions span+span{margin-left:.5rem!important}[data-v-e6ccaccc] .el-tag{margin:.02604rem .01042rem}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=e6ccaccc&scoped=true&lang=scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"127d3248\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".el-menu .el-menu-item[data-v-17d4c49e],.el-menu .el-sub-menu__title[data-v-17d4c49e]{color:#666;font-size:.08333rem;position:relative}.el-menu .el-menu-item svg[data-v-17d4c49e],.el-menu .el-sub-menu__title svg[data-v-17d4c49e]{font-size:.13542rem;margin:-.01042rem .05208rem 0 0}.el-menu .el-menu-item .xian[data-v-17d4c49e],.el-menu .el-sub-menu__title .xian[data-v-17d4c49e]{position:absolute;left:.18229rem;top:0;bottom:0;border-left:.01042rem solid #edeff2}.el-menu .el-menu-item.is-active[data-v-17d4c49e],.el-menu .el-menu-item[data-v-17d4c49e]:hover,.el-menu .el-sub-menu__title.is-active[data-v-17d4c49e],.el-menu .el-sub-menu__title[data-v-17d4c49e]:hover{background-color:rgba(0,0,0,.1);color:var(--color1,#0c969a)}.el-menu .el-menu-item.is-active .xian[data-v-17d4c49e],.el-menu .el-menu-item:hover .xian[data-v-17d4c49e],.el-menu .el-sub-menu__title.is-active .xian[data-v-17d4c49e],.el-menu .el-sub-menu__title:hover .xian[data-v-17d4c49e]{border-left:.01042rem solid var(--color1,#0c969a)}.el-menu--collapse .el-menu-item svg[data-v-17d4c49e],.el-menu--collapse .el-sub-menu__title svg[data-v-17d4c49e]{margin:0}.el-menu--vertical .el-menu[data-v-17d4c49e]{background-color:#fff}.el-menu--vertical .el-menu .el-menu-item[data-v-17d4c49e]:hover{background-color:rgba(0,0,0,.1)}.common_tables[data-v-17d4c49e]{height:100%;display:flex;justify-content:space-between;flex-direction:column}.common_tables .common_pagination[data-v-17d4c49e]{align-self:flex-end}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\r\n * @描述信息: 联级\r\n * @Author:\r\n */\r\n\r\nimport http from '@/http/http'\r\n\r\n// 获取所有联机\r\nexport const getAllCategories = (data) => http.get(`/exam/category/getAllCategories`,data)\r\n\r\n// 删除联机 \r\nexport const deleteCategory = (data) => http.get(`/exam/category/deleteCategory`,data)\r\n\r\n// 新增联级\r\nexport const addCategory = (data) => http.post(`/exam/category/addCategory`,data)\r\n\r\n// 更新联级 \r\nexport const updateCategory = (data) => http.post(`/exam/category/updateCategory`,data)","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./CommonDialogForm.vue?vue&type=style&index=0&id=68c51ef0&scoped=true&lang=scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"b74c35f0\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./selectQuestion.vue?vue&type=style&index=0&id=61912e71&scoped=true&lang=scss\"","<template>\r\n  <div class=\"common_tables\">\r\n    <div class=\"common_table\" :style=\"{ height: !isPagination ? '100%' : 'calc(100% - 50px)' }\">\r\n      <el-table border ref=\"tableRef\" v-bind=\"$attrs\" :cell-style=\"$attrs.cellStyle || { 'font-size': '13px' }\" :data=\"tableData\" height=\"100%\"\r\n                @selection-change=\"doSelectChange\">\r\n        <template v-for=\"item in columns\" :key=\"item\">\r\n          <el-table-column v-bind=\"item\" v-if=\"item.type === 'selection' || item.type === 'index'\" />\r\n          <el-table-column v-bind=\"{ ...item, align: item.align || 'center' }\" v-else v-slot=\"scope\">\r\n            <component :is=\"item.render\" v-bind=\"scope\" v-if=\"item.render\"> </component>\r\n          </el-table-column>\r\n        </template>\r\n      </el-table>\r\n    </div>\r\n    <div class=\"common_pagination\" v-if=\"isPagination\">\r\n      <el-pagination :background=\"true\" v-model:current-page=\"pageable.page\"\r\n                     v-model:page-size=\"pageable.limit\" :page-sizes=\"[15, 30, 50, 100]\"\r\n                     :layout=\"layout\" :total=\"totalData\"\r\n                     @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :pager-count=\"pagerCount\"  :small=\"true\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default { name: 'CommonTable' }\r\n</script>\r\n\r\n<script setup>\r\nimport {ref} from 'vue'\r\nconst emits = defineEmits(['onSizeChange', 'onCurrentChange', 'onSelectionChange', 'onSelect'])\r\nconst props = defineProps({\r\n  tableData: {\r\n    type: Array,\r\n    required: true\r\n  },\r\n  columns: {\r\n    type: Array,\r\n    required: true\r\n  },\r\n  isPagination: {\r\n    type: Boolean,\r\n    default: true\r\n  },\r\n  totalData:{\r\n    type: Number,\r\n    default:0\r\n  },\r\n  pageable: {\r\n    type: Object,\r\n    default: () => {\r\n      return { page: 1, limit: 15 }\r\n    }\r\n  },\r\n  pagerCount:{\r\n    type: Number,\r\n    default:5\r\n  },\r\n  layout:{\r\n    type: String,\r\n    default:'total, sizes, prev, pager, next, jumper'\r\n  }\r\n})\r\n\r\nconst tableRef = ref(null)\r\n\r\nfunction handleSizeChange(val) {\r\n  emits('onSizeChange',val)\r\n}\r\n\r\nfunction handleCurrentChange(val) {\r\n  emits('onCurrentChange',val)\r\n}\r\n\r\nfunction doSelectChange(val) {\r\n  emits('onSelectionChange',val)\r\n}\r\n\r\ndefineExpose({tableRef})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.common_tables {\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  flex-direction: column;\r\n  .common_pagination{\r\n    align-self: flex-end;\r\n  }\r\n}\r\n</style>\r\n\r\n\r\n","import script from \"./commonTable.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./commonTable.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./commonTable.vue?vue&type=style&index=0&id=17d4c49e&scoped=true&lang=scss\"\n\nimport exportComponent from \"/Users/fang/Downloads/uniapp-考试测试/exammanage/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-17d4c49e\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./CommonDialogForm.vue?vue&type=style&index=0&id=68c51ef0&scoped=true&lang=scss\"","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./commonTable.vue?vue&type=style&index=0&id=17d4c49e&scoped=true&lang=scss\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./setQuestionScore.vue?vue&type=style&index=0&id=5d5c07f4&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"13dace78\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","export const findFields = (array,fields,value,children)=>{\r\n    for(let i of array){\r\n        if(i[fields] == value) return i\r\n        if(i[children] && i[children].length > 0){\r\n            let res = findFields(i[children],fields,value,children)\r\n            if(res) return res\r\n        }\r\n    } \r\n}","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".el-menu .el-menu-item[data-v-61912e71],.el-menu .el-sub-menu__title[data-v-61912e71]{color:#666;font-size:.08333rem;position:relative}.el-menu .el-menu-item svg[data-v-61912e71],.el-menu .el-sub-menu__title svg[data-v-61912e71]{font-size:.13542rem;margin:-.01042rem .05208rem 0 0}.el-menu .el-menu-item .xian[data-v-61912e71],.el-menu .el-sub-menu__title .xian[data-v-61912e71]{position:absolute;left:.18229rem;top:0;bottom:0;border-left:.01042rem solid #edeff2}.el-menu .el-menu-item.is-active[data-v-61912e71],.el-menu .el-menu-item[data-v-61912e71]:hover,.el-menu .el-sub-menu__title.is-active[data-v-61912e71],.el-menu .el-sub-menu__title[data-v-61912e71]:hover{background-color:rgba(0,0,0,.1);color:var(--color1,#0c969a)}.el-menu .el-menu-item.is-active .xian[data-v-61912e71],.el-menu .el-menu-item:hover .xian[data-v-61912e71],.el-menu .el-sub-menu__title.is-active .xian[data-v-61912e71],.el-menu .el-sub-menu__title:hover .xian[data-v-61912e71]{border-left:.01042rem solid var(--color1,#0c969a)}.el-menu--collapse .el-menu-item svg[data-v-61912e71],.el-menu--collapse .el-sub-menu__title svg[data-v-61912e71]{margin:0}.el-menu--vertical .el-menu[data-v-61912e71]{background-color:#fff}.el-menu--vertical .el-menu .el-menu-item[data-v-61912e71]:hover{background-color:rgba(0,0,0,.1)}.content[data-v-61912e71]{height:75vh;overflow:auto}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".el-menu .el-menu-item,.el-menu .el-sub-menu__title{color:#666;font-size:.08333rem;position:relative}.el-menu .el-menu-item svg,.el-menu .el-sub-menu__title svg{font-size:.13542rem;margin:-.01042rem .05208rem 0 0}.el-menu .el-menu-item .xian,.el-menu .el-sub-menu__title .xian{position:absolute;left:.18229rem;top:0;bottom:0;border-left:.01042rem solid #edeff2}.el-menu .el-menu-item.is-active,.el-menu .el-menu-item:hover,.el-menu .el-sub-menu__title.is-active,.el-menu .el-sub-menu__title:hover{background-color:rgba(0,0,0,.1);color:var(--color1,#0c969a)}.el-menu .el-menu-item.is-active .xian,.el-menu .el-menu-item:hover .xian,.el-menu .el-sub-menu__title.is-active .xian,.el-menu .el-sub-menu__title:hover .xian{border-left:.01042rem solid var(--color1,#0c969a)}.el-menu--collapse .el-menu-item svg,.el-menu--collapse .el-sub-menu__title svg{margin:0}.el-menu--vertical .el-menu{background-color:#fff}.el-menu--vertical .el-menu .el-menu-item:hover{background-color:rgba(0,0,0,.1)}.upload_icon{font-size:.26042rem}.upload_tip{margin-top:.10417rem;color:red}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","<template>\r\n  <el-dialog v-bind=\"$attrs\" title=\"选择题目\" width=\"90%\" append-to-body style=\"margin-top:2vh;margin-bottom:0\">\r\n    <div class=\"content\">\r\n        <QuestionBankManage isSelect @getSelect=\"getSelect\" :selectId=\"selectId\" />  \r\n    </div>\r\n    <template #footer>\r\n      <span class=\"dialog-footer\">\r\n        <el-button @click.stop=\"onHandleClose\">取消</el-button>\r\n        <el-button type=\"primary\" @click.stop=\"onSure\">确定</el-button>\r\n      </span>\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script setup>\r\nimport { onMounted, reactive, ref } from 'vue'\r\nimport QuestionBankManage from \"@/pages/questionBankManage\";\r\nimport msg from \"@/utils/resetMessage\";\r\nconst emits = defineEmits(['getChangeSelection'])\r\nconst props = defineProps(['selectId'])\r\nconst selectArray = ref([])\r\n\r\nfunction getSelect(val){\r\n    if(val.length){\r\n        selectArray.value =  val.map(i=>{\r\n          return {id:i.id,name:i.quContent}\r\n        })\r\n    }\r\n}\r\n\r\nfunction onHandleClose() {\r\n  emits('update:modelValue', false)\r\n}\r\nfunction onSure() {\r\n  msg.success('选题成功，请填写对应分值')\r\n  emits('getChangeSelection',selectArray.value)\r\n  onHandleClose()\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.content{\r\n    height: 75vh;\r\n    overflow: auto;\r\n}\r\n</style>\r\n","import script from \"./selectQuestion.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./selectQuestion.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./selectQuestion.vue?vue&type=style&index=0&id=61912e71&scoped=true&lang=scss\"\n\nimport exportComponent from \"/Users/fang/Downloads/uniapp-考试测试/exammanage/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-61912e71\"]])\n\nexport default __exports__","<template>\r\n<el-dialog v-bind=\"$attrs\" title=\"设置分值\" width=\"50%\">\r\n    <div class=\"content\">\r\n      <div class=\"addQuestion\">\r\n        <el-button type=\"primary\" @click.stop=\"addNewQuestion\">新增考题</el-button>\r\n      </div>\r\n      <CommonTable :tableData=\"tableData\" :columns=\"columns\" :isPagination=\"false\" />\r\n    </div>\r\n    <template #footer>\r\n      <span class=\"dialog-footer\">\r\n        <el-button @click.stop=\"onHandleClose\">取消</el-button>\r\n        <el-button type=\"primary\" @click.stop=\"onSure\">确定</el-button>\r\n      </span>\r\n    </template>\r\n    <template v-if=\"addQuestionDialog.show\">\r\n      <SelectQuestion\r\n      v-model=\"addQuestionDialog.show\"\r\n      :selectId=\"addQuestionDialog.data\"\r\n      @getChangeSelection=\"getChangeSelection\"\r\n       />\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script setup lang=\"jsx\">\r\nimport { onMounted, reactive, ref } from 'vue'\r\nimport CommonTable from '@/components/commonTable'\r\nimport SelectQuestion from './selectQuestion.vue'\r\nimport msg from \"@/utils/resetMessage\";\r\nconst emits = defineEmits(['sureScore'])\r\nconst props = defineProps({\r\n  data: {\r\n    type: Array,\r\n    default: () => []\r\n  }\r\n})\r\n\r\nonMounted(() => {\r\n  tableData.value = props.data\r\n})\r\n\r\nconst tableData = ref([])\r\nconst columns = ref([\r\n  { label: '序号', type: 'index', width: 80, align: 'center' },\r\n  { label: '题号', prop: 'ids' },\r\n  {label:\"题目\",prop:'name'},\r\n  {\r\n    label: '分值',\r\n    prop: 'score',\r\n    render: ({ row }) => {\r\n      return <el-input v-model={row.score}></el-input>\r\n    }\r\n  },\r\n  {\r\n    label: '操作',\r\n    width: 100,\r\n    render: ({ row }) => {\r\n      return (\r\n        <el-tag type=\"danger\" style={{ cursor: 'pointer' }} onClick={()=>delIds(row.ids)}>\r\n          删除\r\n        </el-tag>\r\n      )\r\n    }\r\n  }\r\n])\r\n\r\nfunction delIds(ids){\r\n    tableData.value = tableData.value.filter(i=>i.ids !== ids)\r\n    msg.success('删除成功, 提交生效')\r\n}\r\n\r\nconst addQuestionDialog = reactive({\r\n  show: false,\r\n  data:[]\r\n})\r\nfunction addNewQuestion() {\r\n  addQuestionDialog.show = true\r\n  addQuestionDialog.data = tableData.value.map(i=>i.ids)\r\n}\r\n\r\nfunction onHandleClose() {\r\n  emits('update:modelValue', false)\r\n}\r\nfunction onSure() {\r\n  let isEmpty = tableData.value.some(i=>i.score == '')\r\n  if(isEmpty){\r\n  msg.error('存在未设置分值的题目，请完善！')\r\n  }else{\r\n  msg.success('分值设置成功')\r\n  emits('sureScore', tableData.value)\r\n  onHandleClose()\r\n  }\r\n\r\n}\r\n\r\nfunction getChangeSelection(val){\r\n    if(val.length){\r\n      let res = val.map(i=>{\r\n           let has = tableData.value.find(item=>item.ids == i.id)\r\n           return has ? has : {ids:i.id,score:'',name:i.name}\r\n        })\r\n      tableData.value = res\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.content {\r\n  height: 100%;\r\n  .addQuestion {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    height: 50px;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./setQuestionScore.vue?vue&type=script&setup=true&lang=jsx\"\nexport * from \"./setQuestionScore.vue?vue&type=script&setup=true&lang=jsx\"\n\nimport \"./setQuestionScore.vue?vue&type=style&index=0&id=5d5c07f4&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/fang/Downloads/uniapp-考试测试/exammanage/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5d5c07f4\"]])\n\nexport default __exports__","<template>\r\n  <el-dialog v-bind=\"$attrs\" :title=\"`${dialogType === 1 ? '新增' : '编辑'} - ${title}`\" :width=\"width\" :style=\"`margin-top:${marginTop}vh;margin-bottom:0`\">\r\n    <div class=\"content\" v-loading=\"loading\">\r\n      <el-form ref=\"formRef\" :model=\"formInline\" status-icon label-width=\"80\" class=\"default_form\" :rules=\"rules\">\r\n        <template v-for=\"item in formOption\">\r\n          <template v-if=\"item.type === 'input'\">\r\n            <el-form-item :label=\"item.label\" :prop=\"item.prop\" :key=\"item.prop\">\r\n              <el-input v-model=\"formInline[item.prop]\" placeholder=\"请输入\" clearable :disabled=\"item.disabled\" />\r\n            </el-form-item>\r\n          </template>\r\n\r\n          <template v-else-if=\"item.type === 'passwordInput'\">\r\n            <el-form-item :label=\"item.label\" :prop=\"item.prop\" :key=\"item.prop\">\r\n              <el-input v-model=\"formInline[item.prop]\" type=\"password\" show-password placeholder=\"请输入\" clearable :disabled=\"item.disabled\" />\r\n            </el-form-item>\r\n          </template>\r\n\r\n          <template v-else-if=\"item.type === 'select'\">\r\n            <el-form-item :label=\"item.label\" :prop=\"item.prop\" :key=\"item.prop\">\r\n              <el-select v-model=\"formInline[item.prop]\" placeholder=\"请选择\" clearable :disabled=\"item.disabled\" @change=\"(value)=>selectchange(value,item.prop)\">\r\n                <el-option :label=\"option.label\" :value=\"option.value\" v-for=\"(option, i) in item.options\" :key=\"i\" />\r\n              </el-select>\r\n            </el-form-item>\r\n          </template>\r\n\r\n          <template v-else-if=\"item.type === 'trueSelect'\">\r\n            <el-form-item :label=\"item.label\" :prop=\"item.prop\" :key=\"item.prop\">\r\n              <el-select v-model=\"formInline[item.prop]\" placeholder=\"请选择\" clearable :disabled=\"item.disabled\" :multiple=\"formInline?.sort === 2\">\r\n                <el-option :label=\"option\" :value=\"String(i+1)\" v-for=\"(option, _,i) in allOptionsArrayMap\" :key=\"i\" />\r\n              </el-select>\r\n            </el-form-item>\r\n          </template>\r\n\r\n          <template v-else-if=\"item.type === 'cascader'\">\r\n            <el-form-item :label=\"item.label\" :prop=\"item.prop\" :key=\"item.prop\">\r\n              <el-cascader v-model=\"formInline[item.prop]\" :disabled=\"item.disabled\" :options=\"item.options\" :props=\"item.props\" />\r\n            </el-form-item>\r\n          </template>\r\n\r\n          <template v-else-if=\"item.type === 'checkbox'\">\r\n            <el-form-item :label=\"item.label\" :prop=\"item.prop\" :key=\"item.prop\">\r\n              <el-checkbox-group v-model=\"formInline[item.prop]\" :disabled=\"item.disabled\">\r\n                <el-checkbox :label=\"option.label\" :name=\"option.value\" :key=\"index\" v-for=\"(option, index) in item.options\" />\r\n              </el-checkbox-group>\r\n            </el-form-item>\r\n          </template>\r\n\r\n          <template v-else-if=\"item.type === 'switch'\">\r\n            <el-form-item :label=\"item.label\" :prop=\"item.prop\" :key=\"item.prop\">\r\n              <el-switch v-model=\"formInline[item.prop]\" :disabled=\"item.disabled\" />\r\n            </el-form-item>\r\n          </template>\r\n\r\n          <template v-else-if=\"item.type === 'radio'\">\r\n            <el-form-item :label=\"item.label\" :prop=\"item.prop\" :key=\"item.prop\">\r\n              <el-radio-group v-model=\"formInline[item.prop]\" :disabled=\"item.disabled\">\r\n                <el-radio :label=\"option.label\" v-for=\"(option, index) in item.options\" :key=\"index\" />\r\n              </el-radio-group>\r\n            </el-form-item>\r\n          </template>\r\n\r\n          <template v-else-if=\"item.type === 'textarea'\">\r\n            <el-form-item :label=\"item.label\" :prop=\"item.prop\" :key=\"item.prop\" style=\"width: 100%\">\r\n              <el-input v-model=\"formInline[item.prop]\" type=\"textarea\" :disabled=\"item.disabled\" />\r\n            </el-form-item>\r\n          </template>\r\n\r\n          <template v-else-if=\"item.type === 'date'\">\r\n            <el-form-item :label=\"item.label\" :prop=\"item.prop\" :key=\"item.prop\">\r\n              <el-date-picker v-model=\"formInline[item.prop]\" type=\"date\" placeholder=\"请选择\" value-format=\"YYYY-MM-DD\" :disabled=\"item.disabled\" />\r\n            </el-form-item>\r\n          </template>\r\n\r\n          <template v-else-if=\"item.type === 'allOption'\">\r\n            <el-form-item :label=\"item.label\" :prop=\"item.prop\" :key=\"item.prop\" style=\"width: 100%\">\r\n              <div class=\"allOptions\">\r\n                <template v-for=\"(opt, i) in allOptionsArray\" :key=\"opt\">\r\n                  <el-input v-model=\"allOptionsArrayMap[i]\">\r\n                    <template #prepend>{{ ['A', 'B', 'C', 'D', 'E', 'F'][i] }}</template>\r\n                    <template #append\r\n                      ><el-icon @click.stop=\"deleteOneOption(allOptionsArrayMap[i])\" class=\"delIcon\"> <Close /> </el-icon\r\n                    ></template>\r\n                  </el-input>\r\n                </template>\r\n\r\n                <div class=\"addOption\">\r\n                  <el-button type=\"primary\" @click.stop=\"addOption\">新增</el-button>\r\n                </div>\r\n              </div>\r\n            </el-form-item>\r\n          </template>\r\n\r\n          <template v-else-if=\"item.type === 'imagesUpload'\">\r\n            <el-form-item :label=\"item.label\" :prop=\"item.prop\" :key=\"item.prop\" style=\"width: 100%\">\r\n              <el-upload\r\n                v-model:file-list=\"formInline[item.prop]\"\r\n                action=\"#\"\r\n                multiple\r\n                list-type=\"picture-card\"\r\n                accept=\".jpg,.png,.jpeg\"\r\n                :http-request=\"uploadImage\"\r\n                :on-preview=\"handlePictureCardPreview\"\r\n                :on-remove=\"handleRemove\"\r\n              >\r\n                <el-icon>\r\n                  <Plus />\r\n                </el-icon>\r\n              </el-upload>\r\n            </el-form-item>\r\n          </template>\r\n\r\n          <template v-else-if=\"item.type === 'onlyImagesUpload'\">\r\n            <el-form-item :label=\"item.label\" :prop=\"item.prop\" :key=\"item.prop\">\r\n              <el-upload\r\n                ref=\"onlyImagesUpload\"\r\n                v-model:file-list=\"formInline[item.prop]\"\r\n                action=\"#\"\r\n                list-type=\"picture-card\"\r\n                accept=\".jpg,.png,.jpeg\"\r\n                :limit=\"1\"\r\n                :http-request=\"uploadAnswer\"\r\n                :on-preview=\"handlePictureCardPreview\"\r\n                :on-remove=\"handleRemove\"\r\n                :on-exceed=\"handleExceed\"\r\n              >\r\n                <el-icon>\r\n                  <Plus />\r\n                </el-icon>\r\n              </el-upload>\r\n            </el-form-item>\r\n          </template>\r\n\r\n          <template v-else-if=\"item.type === 'setScore'\">\r\n            <el-form-item :label=\"item.label\" :prop=\"item.prop\" :key=\"item.prop\">\r\n              <div class=\"set_score\">\r\n                <el-input v-model=\"formInline[item.prop]\" disabled></el-input>\r\n                <el-button type=\"primary\" @click.stop=\"setScoreDialog\">设置分值</el-button>\r\n              </div>\r\n            </el-form-item>\r\n          </template>\r\n\r\n          <template v-else>\r\n            <el-form-item :label=\"item.label\" :prop=\"item.prop\" :key=\"item.prop\" >\r\n              <component :is=\"item.render\" :data=\"formInline\" :key=\"item.prop\" @updateData=\"updateData\" />\r\n            </el-form-item>\r\n          </template>\r\n        </template>\r\n      </el-form>\r\n    </div>\r\n    <template #footer>\r\n      <span class=\"dialog-footer\">\r\n        <el-button @click.stop=\"onHandleClose\">取消</el-button>\r\n        <el-button type=\"primary\" @click.stop=\"onSure\">确定</el-button>\r\n      </span>\r\n    </template>\r\n    <template v-if=\"imgDialog\">\r\n      <el-dialog v-model=\"imgDialog\" title=\"图片预览\">\r\n        <div class=\"img_box\">\r\n          <el-image :src=\"dialogImageUrl\" fit=\"cover\" />\r\n        </div>\r\n      </el-dialog>\r\n    </template>\r\n    <template v-if=\"setScore.show\">\r\n        <SetQuestionScore\r\n            v-model=\"setScore.show\"\r\n            :data=\"setScore.data\"\r\n            @sureScore=\"receiveScore\"\r\n         />\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script setup>\r\nimport SetQuestionScore from '@/pages/simulateExamManage/setQuestionScore'\r\nimport { Plus, Close } from '@element-plus/icons-vue'\r\nimport { onMounted, reactive, ref } from 'vue'\r\nimport msg from '@/utils/resetMessage'\r\nimport { uploadImages } from '@/api/questionBankApi'\r\nimport store from '@/store'\r\nconst emits = defineEmits(['refreshData'])\r\nconst props = defineProps({\r\n  title: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  dialogType: {\r\n    type: Number,\r\n    default: 0\r\n  },\r\n  width: {\r\n    type: String,\r\n    default: '40%'\r\n  },\r\n  formOption: {\r\n    type: Array,\r\n    default: () => []\r\n  },\r\n  formData: {\r\n    type: Object,\r\n    default: () => {}\r\n  },\r\n  rules: {\r\n    type: Object,\r\n    default: () => {}\r\n  },\r\n  addRequestUrl: {\r\n    type: Function\r\n  },\r\n  updateRequestUrl: {\r\n    type: Function\r\n  },\r\n  marginTop:{\r\n    type:String,\r\n    default:'15'\r\n  }\r\n})\r\nconst formRef = ref(null)\r\nconst formInline = reactive({})\r\n\r\nfunction updateData(data,fidlds){\r\n  formInline[fidlds] = data\r\n}\r\n\r\nonMounted(() => {\r\n  if (props.dialogType === 0) {\r\n    Object.assign(formInline, props.formData)\r\n    creareFields()\r\n    allOptionsArray.value = formInline?.allOption?.split('#')\r\n    optionArrayToMap()\r\n  } else {\r\n    formInline.userId = store.state.user.userInfo.id\r\n  }\r\n})\r\nconst loading = ref(false)\r\nfunction uploadAnswer(data) {\r\n  loading.value = true\r\n  const fd = new FormData()\r\n  fd.append('file', data.file)\r\n  fd.append('typeId', formInline.typeId)\r\n  uploadImages(fd)\r\n    .then(res => {\r\n      let currentIndex = isHasFields('answer')\r\n      let addressListArray = formInline['imageList'][currentIndex]\r\n      addressListArray['addressList'] = [res]\r\n    })\r\n    .finally(() => (loading.value = false))\r\n}\r\nfunction uploadImage(data) {\r\n  const fd = new FormData()\r\n  fd.append('file', data.file)\r\n  fd.append('typeId', formInline.typeId)\r\n  promiseRequest.value.push({ uid: data.file.uid, fd })\r\n}\r\nconst promiseRequest = ref([])\r\n\r\nfunction batchUploadImage(fd) {\r\n  uploadImages(fd).then(res => {\r\n    let currentIndex = isHasFields()\r\n    pushImage(currentIndex, res)\r\n  })\r\n}\r\n\r\nfunction pushImage(currentIndex, res) {\r\n  let addressListArray = formInline['imageList'][currentIndex]\r\n  let isHas = addressListArray['addressList']?.find(i => i === res)\r\n  if (!isHas) {\r\n    addressListArray['addressList'].push(res)\r\n  } else {\r\n    msg.warning('图片名称已存在')\r\n  }\r\n}\r\n\r\nfunction isHasFields(fields = 'question') {\r\n  if (!formInline['imageList']) {\r\n    formInline['imageList'] = []\r\n  }\r\n  let isHasQuestion = formInline['imageList']?.find(i => i.type === fields)\r\n  if (!isHasQuestion) {\r\n    formInline['imageList'].push({\r\n      type: fields,\r\n      addressList: []\r\n    })\r\n  }\r\n  return formInline['imageList'].findIndex(i => i.type === fields)\r\n}\r\n\r\nconst onlyImagesUpload = ref(null)\r\n\r\nconst handleExceed = uploadFile => {\r\n  uploadAnswer({ file: uploadFile[0] })\r\n  onlyImagesUpload.value.clearFiles()\r\n  onlyImagesUpload.value.handleStart(uploadFile[0])\r\n}\r\n\r\nconst handleRemove = uploadFile => {\r\n  let deleteUrl = uploadFile.url.split('/')\r\n  formInline.imageList = formInline.imageList.map(i => {\r\n    i.addressList = i.addressList.filter(img => {\r\n      let imgName = img.split('/')\r\n      return imgName[imgName.length - 1] !== deleteUrl[deleteUrl.length - 1]\r\n    })\r\n    return i\r\n  })\r\n}\r\nconst dialogImageUrl = ref('')\r\nconst imgDialog = ref(false)\r\nconst handlePictureCardPreview = uploadFile => {\r\n  dialogImageUrl.value = uploadFile.url\r\n  imgDialog.value = true\r\n}\r\n\r\nfunction creareFields() {\r\n  if (!formInline['imageList']) {\r\n    return\r\n  } else {\r\n    let answerArray = formInline['imageList'].find(i => i.type === 'answer') || { type: 'answer', addressList: [] }\r\n    let questionArray = formInline['imageList'].find(i => i.type === 'question') || { type: 'question', addressList: [] }\r\n\r\n    formInline['answerList'] = answerArray.addressList?.map(i => {\r\n      return { url: window.URL_CONFIG.URL + '/exam/' + i }\r\n    })\r\n    formInline['questionList'] = questionArray.addressList?.map(i => {\r\n      return { url: window.URL_CONFIG.URL + '/exam/' + i }\r\n    })\r\n  }\r\n}\r\n\r\nfunction filterFields(params) {\r\n  params['questionList'] && delete params.questionList\r\n  params['answerList'] && delete params.answerList\r\n  if (params.categoryId && typeof params.categoryId === 'object') {\r\n    params.categoryId = params.categoryId[params.categoryId.length - 1]\r\n  }\r\n  if (params.typeId && typeof params.typeId === 'object') {\r\n    params.typeId = params.typeId[params.typeId.length - 1]\r\n  }\r\n  if (allOptionsArrayMap.value && Object.values(allOptionsArrayMap.value)) {\r\n    params.allOption = Object.values(allOptionsArrayMap.value).join('#')\r\n  }\r\n  if (params.parentId && typeof params.parentId === 'object') {\r\n    params.parentId = params.parentId[params.parentId.length - 1]\r\n  }\r\n  return { ...params }\r\n}\r\n\r\nfunction onSure() {\r\n  formRef.value.validate(valid => {\r\n    if (valid) {\r\n      loading.value = true\r\n      if (promiseRequest.value.length) {\r\n        let paramsArray = promiseRequest.value.map(i => batchUploadImage(i.fd))\r\n        Promise.all(paramsArray).then(() => {\r\n          promiseRequest.value = []\r\n          setTimeout(() => {\r\n            submitApi()\r\n          }, 2000)\r\n        })\r\n      } else {\r\n        submitApi()\r\n      }\r\n    } else {\r\n      msg.warning('校验不通过')\r\n    }\r\n  })\r\n}\r\n\r\nfunction submitApi() {\r\n  let params = filterFields(formInline)\r\n  if (props.dialogType) {\r\n    props\r\n      .addRequestUrl(params)\r\n      .then(res => {\r\n        console.log(res)\r\n        msg.success('新增成功')\r\n      })\r\n      .finally(() => {\r\n        onHandleClose()\r\n        emits('refreshData')\r\n      })\r\n  } else {\r\n    props\r\n      .updateRequestUrl(params)\r\n      .then(res => {\r\n        console.log(res)\r\n        msg.success('更新成功')\r\n      })\r\n      .finally(() => {\r\n        onHandleClose()\r\n        emits('refreshData')\r\n      })\r\n  }\r\n}\r\n\r\nfunction onHandleClose() {\r\n  emits('update:modelValue', false)\r\n}\r\n\r\nconst allOptionsArray = ref([])\r\nconst allOptionsArrayMap = ref({})\r\n\r\nfunction optionArrayToMap() {\r\n  let obj = {}\r\n  allOptionsArray.value?.map((key, value) => {\r\n    obj[value] = key\r\n  })\r\n  allOptionsArrayMap.value = obj\r\n}\r\n\r\nfunction deleteOneOption(opt) {\r\n  allOptionsArray.value = Object.values(allOptionsArrayMap.value).filter(i => i !== opt)\r\n  optionArrayToMap()\r\n}\r\nfunction addOption() {\r\n  allOptionsArray.value = Object.values(allOptionsArrayMap.value)\r\n  formInline.allOption = Object.values(allOptionsArrayMap.value).join('#')\r\n  allOptionsArray.value.push('')\r\n    \r\n}\r\nfunction selectchange(value,fidlds){\r\n  if(fidlds === 'sort'){\r\n    formInline.trueOption = value === 2 ? [formInline.trueOption] : (String(formInline.trueOption[0]) || '')\r\n  }\r\n}\r\n\r\nconst setScore = reactive({\r\n  show:false,\r\n  data:[]\r\n})\r\n\r\nfunction setScoreDialog(){\r\n  let idsArray = formInline?.questionIds ? formInline.questionIds.split('#') : []\r\n  let scoreArray = formInline?.questionScore ? formInline.questionScore.split('#') : []\r\n  let res = idsArray.map((ids,index)=>{\r\n    let score = scoreArray[index] ? scoreArray[index] : 0\r\n    return {ids,score,name:formInline['questionNameMap'][ids]}\r\n  })\r\n  setScore.show = true\r\n  setScore.data = res\r\n} \r\nfunction receiveScore(data=[]){\r\n let ids = data.map(i=>i.ids).join('#')\r\n let score = data.map(i=>i.score).join('#')\r\n let newIdNameMap = {}\r\n for (const key in data) {\r\n  newIdNameMap[data[key].ids] = data[key].name\r\n }\r\n formInline.questionNameMap = newIdNameMap\r\n formInline.questionIds = ids\r\n formInline.questionScore = score\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.content {\r\n  height: 100%;\r\n\r\n  .default_form {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: space-between;\r\n    .el-form-item {\r\n      width: 49%;\r\n      margin: 10px 0;\r\n    }\r\n  }\r\n}\r\n\r\n.img_box {\r\n  margin: auto;\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  img {\r\n    height: 100%;\r\n    width: 100%;\r\n  }\r\n}\r\n\r\n:deep(.el-form-item__content) {\r\n  align-content: flex-start;\r\n}\r\n\r\n.allOptions {\r\n  width: 100%;\r\n  .el-input-group {\r\n    margin: 5px 0;\r\n    .delIcon {\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  .addOption {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n  }\r\n}\r\n\r\n.set_score{\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  .el-input{\r\n    width: 70%;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./CommonDialogForm.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CommonDialogForm.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CommonDialogForm.vue?vue&type=style&index=0&id=68c51ef0&scoped=true&lang=scss\"\n\nimport exportComponent from \"/Users/fang/Downloads/uniapp-考试测试/exammanage/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-68c51ef0\"]])\n\nexport default __exports__","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".el-menu .el-menu-item[data-v-68c51ef0],.el-menu .el-sub-menu__title[data-v-68c51ef0]{color:#666;font-size:.08333rem;position:relative}.el-menu .el-menu-item svg[data-v-68c51ef0],.el-menu .el-sub-menu__title svg[data-v-68c51ef0]{font-size:.13542rem;margin:-.01042rem .05208rem 0 0}.el-menu .el-menu-item .xian[data-v-68c51ef0],.el-menu .el-sub-menu__title .xian[data-v-68c51ef0]{position:absolute;left:.18229rem;top:0;bottom:0;border-left:.01042rem solid #edeff2}.el-menu .el-menu-item.is-active[data-v-68c51ef0],.el-menu .el-menu-item[data-v-68c51ef0]:hover,.el-menu .el-sub-menu__title.is-active[data-v-68c51ef0],.el-menu .el-sub-menu__title[data-v-68c51ef0]:hover{background-color:rgba(0,0,0,.1);color:var(--color1,#0c969a)}.el-menu .el-menu-item.is-active .xian[data-v-68c51ef0],.el-menu .el-menu-item:hover .xian[data-v-68c51ef0],.el-menu .el-sub-menu__title.is-active .xian[data-v-68c51ef0],.el-menu .el-sub-menu__title:hover .xian[data-v-68c51ef0]{border-left:.01042rem solid var(--color1,#0c969a)}.el-menu--collapse .el-menu-item svg[data-v-68c51ef0],.el-menu--collapse .el-sub-menu__title svg[data-v-68c51ef0]{margin:0}.el-menu--vertical .el-menu[data-v-68c51ef0]{background-color:#fff}.el-menu--vertical .el-menu .el-menu-item[data-v-68c51ef0]:hover{background-color:rgba(0,0,0,.1)}.content[data-v-68c51ef0]{height:100%}.content .default_form[data-v-68c51ef0]{display:flex;flex-wrap:wrap;justify-content:space-between}.content .default_form .el-form-item[data-v-68c51ef0]{width:49%;margin:.05208rem 0}.img_box[data-v-68c51ef0]{margin:auto}.img_box[data-v-68c51ef0],.img_box img[data-v-68c51ef0]{width:100%;height:100%}[data-v-68c51ef0] .el-form-item__content{align-content:flex-start}.allOptions[data-v-68c51ef0]{width:100%}.allOptions .el-input-group[data-v-68c51ef0]{margin:.02604rem 0}.allOptions .el-input-group .delIcon[data-v-68c51ef0]{cursor:pointer}.allOptions .addOption[data-v-68c51ef0]{display:flex;justify-content:flex-end}.set_score[data-v-68c51ef0]{width:100%;display:flex;justify-content:space-between}.set_score .el-input[data-v-68c51ef0]{width:70%}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\r\n * @描述信息: 题库\r\n * @Author:\r\n */\r\n\r\nimport http from '@/http/http'\r\n\r\n// 获取所有题目  \r\nexport const getAllQuestion = (data) => http.post(`/exam/subject/getAllQuestion`,data)\r\n\r\n// 更新题目\r\nexport const updateQuestion = data => http.post('/exam/subject/updateQuestion',data)\r\n\r\n// 删除题目\r\nexport const deleteQuestion = id => http.get('/exam/subject/deleteQuestionById',id)\r\n\r\n// 上传题目图片\r\nexport const uploadImages = file => http.post('/exam/util/img/upload',file,{headers:{'Content-Type':'multipart/form-data'}})\r\n\r\n// 导入题目\r\nexport const uploadDataFile = file => http.post('/exam/util/data/upload',file,{headers:{'Content-Type':'multipart/form-data'}})"],"sourceRoot":""}